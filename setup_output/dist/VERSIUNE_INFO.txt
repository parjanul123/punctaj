=================================================================================
PUNCTAJ MANAGER v2.5 - DISTRIBUTION PACKAGE
=================================================================================

## BUILD INFORMATION

- Version: 2.5
- Release Date: February 3, 2026
- Status: Production Ready
- Build Type: Python Distribution (requires Python 3.7+)
- Package Format: Standalone Installer


## FILES IN THIS PACKAGE

### MAIN APPLICATION FILES
1. punctaj.py (191.86 KB) - Main application with UI and business logic
2. admin_panel.py (5.63 KB) - Admin panel interface
3. admin_permissions.py (56.51 KB) - Permission management system
4. admin_ui.py (18.92 KB) - Admin UI components
5. organization_view.py (8.21 KB) - Organizational structure visualization
6. permission_check_helpers.py (8.26 KB) - Permission verification functions
7. permission_decorators.py (7.26 KB) - Permission decorators

### INTEGRATION & SYNC FILES
8. discord_auth.py (32.71 KB) - Discord OAuth2 authentication
9. realtime_sync.py (6.32 KB) - Real-time cloud sync (30-second intervals)
10. permission_sync_fix.py (5.59 KB) - Permission sync (5-second intervals)
11. supabase_sync.py (19.99 KB) - Supabase cloud backend integration
12. config_resolver.py (5.89 KB) - Configuration resolver
13. action_logger.py (16.44 KB) - Action logging system

### CONFIGURATION TEMPLATES
14. discord_config.ini (0.15 KB) - Discord OAuth2 credentials template
15. supabase_config.ini (0.58 KB) - Supabase credentials template

### INSTALLATION & SETUP
16. INSTALEAZA.bat (4.71 KB) - Professional Windows installer script
17. CITESTE_INTAI.txt (3.89 KB) - This installation guide

### DOCUMENTATION (In separate doc folder)
- GRANULAR_PERMISSIONS_GUIDE.md - Complete permission system documentation
- QUICK_PERMISSIONS_REFERENCE.md - Quick permission reference
- Additional documentation files


## FEATURES IN v2.5

### GRANULAR PERMISSION SYSTEM
✓ Institution-level permission control
✓ Per-button permission verification
✓ 7 new permission types:
  - can_add_employee, can_edit_employee, can_delete_employee (per institution)
  - can_add_score (per institution)
  - can_add_city, can_edit_city, can_delete_city (global)
✓ Automatic button disable/enable based on permissions
✓ Permission verification functions in permission_check_helpers.py

### AUTO-REFRESH AFTER CLOUD SYNC
✓ After downloading from cloud, application auto-refreshes:
  - 500ms: Load existing tables
  - 1000ms: Refresh Discord user info section
  - 1500ms: Refresh admin buttons with new permissions
✓ No need to restart application
✓ Seamless data updates

### REAL-TIME SYNCHRONIZATION
✓ Cloud sync: Every 30 seconds (realtime_sync.py)
✓ Permission sync: Every 5 seconds (permission_sync_fix.py)
✓ Automatic detection of changes
✓ Instant visibility of updates from other clients

### DISCORD INTEGRATION
✓ Discord OAuth2 authentication
✓ Automatic user registration on first login
✓ Discord username sync with database
✓ Role mapping and permissions


## INSTALLATION REQUIREMENTS

### MINIMUM SYSTEM REQUIREMENTS
- Operating System: Windows 7 or newer
- Processor: Any modern processor
- RAM: 512 MB (1 GB recommended)
- Storage: 200 MB free space
- Network: Internet connection required

### SOFTWARE REQUIREMENTS
- **Python 3.7 or newer** (REQUIRED)
- pip (Python package manager, included with Python)
- Modern web browser (for Discord OAuth login)

### NETWORK REQUIREMENTS
- Access to Discord API (oauth.discord.gg)
- Access to Supabase cloud database
- HTTPS support (port 443)


## QUICK START INSTALLATION

### Step 1: Download & Extract
1. Extract all files to a folder
2. Ensure you have Python 3.7+ installed
3. Run: INSTALEAZA.bat (double-click)

### Step 2: Automatic Installation
The installer will:
- Check Python installation
- Create application directory: %APPDATA%\PunctajManager
- Copy all files to application directory
- Create Start Menu shortcuts
- Install required Python packages via pip

### Step 3: Configuration
1. Edit: discord_config.ini (add your Discord Bot credentials)
2. Edit: supabase_config.ini (add your Supabase credentials)
3. Run: python punctaj.py

### Step 4: First Login
1. Click "Login cu Discord"
2. Authenticate in browser
3. Account automatically created in Supabase
4. Dashboard loads


## ARCHITECTURE

### THREE-TIER ARCHITECTURE
1. **Local Storage**
   - SQLite tables in %APPDATA%\PunctajManager
   - caching of cloud data

2. **Real-time Sync Layer**
   - PermissionSyncManager (5-second intervals)
   - RealTimeSyncManager (30-second intervals)
   - Automatic conflict resolution

3. **Cloud Backend**
   - Supabase PostgreSQL REST API
   - Discord OAuth2 integration
   - Granular permission storage


## KEY TECHNICAL IMPROVEMENTS IN v2.5

### CODE QUALITY
- Added permission_check_helpers.py with dedicated helper functions
- Implemented permission_decorators.py for clean permission checks
- Enhanced error handling and logging in action_logger.py
- Modular permission system in admin_permissions.py

### PERFORMANCE
- 5-second permission sync reduces latency for permission changes
- 30-second cloud sync reduces server load
- Staggered UI refresh (500ms, 1000ms, 1500ms) for smooth experience
- Efficient permission caching

### SECURITY
- Discord OAuth2 for authentication
- Permission verification on every action
- Admin-only access to permission management
- Audit logging in action_logger.py


## UNINSTALLATION

### Method 1: Manual Delete
1. Open File Explorer
2. Go to: C:\Users\[YourUsername]\AppData\Roaming\PunctajManager
3. Delete the entire PunctajManager folder

### Method 2: Clean Uninstall
1. Open Command Prompt
2. Run: rmdir /s /q "%APPDATA%\PunctajManager"
3. Delete Start Menu shortcut manually (optional)


## TROUBLESHOOTING

### Issue: "Python is not installed"
- Download from: https://www.python.org/downloads/
- Install Python
- CHECK: Add Python to PATH (checkbox during installation)
- Retry installer

### Issue: "Permission Denied" during installation
- Run Command Prompt AS ADMINISTRATOR
- Run: INSTALEAZA.bat

### Issue: "Module not found" errors
- Run from Command Prompt: pip install -r requirements.txt
- Check internet connection
- Ensure pip is installed

### Issue: Discord login not working
- Verify discord_config.ini has correct Client ID and Secret
- Check internet connection
- Clear browser cookies and cache
- Try different browser

### Issue: Cloud sync not working
- Verify supabase_config.ini has correct credentials
- Check internet connection
- Verify Supabase project is running
- Check firewall settings


## CONFIGURATION FILES

### discord_config.ini
```ini
[discord]
client_id = YOUR_DISCORD_BOT_CLIENT_ID
client_secret = YOUR_DISCORD_BOT_CLIENT_SECRET
redirect_uri = http://localhost:8000/callback
```

### supabase_config.ini
```ini
[supabase]
url = https://your-project.supabase.co
api_key = YOUR_SUPABASE_PUBLIC_ANON_KEY
```


## VERSION HISTORY

### v2.5 (February 2026)
- Added granular permission system with 7 new permission types
- Implemented auto-refresh after cloud download
- Added permission verification helper functions
- Improved real-time sync (5-sec permissions, 30-sec cloud)
- Professional installer with feature descriptions
- Complete documentation and guides

### v2.0 (Previous)
- Discord OAuth2 integration
- Real-time cloud sync
- Admin panel with permissions
- Complete application interface

### v1.0 (Original)
- Basic CRUD operations
- Local database
- User management


## SUPPORT & DOCUMENTATION

### Quick References
1. CITESTE_INTAI.txt - This file (installation guide)
2. GRANULAR_PERMISSIONS_GUIDE.md - Complete permission system guide
3. QUICK_PERMISSIONS_REFERENCE.md - Permission lookup table

### Running the Application
```bash
cd %APPDATA%\PunctajManager
python punctaj.py
```

### Checking Logs
Application logs are saved to:
```
%APPDATA%\PunctajManager\logs\
```

### Admin Panel Access
1. Login with Discord admin account
2. Click "⚙️ Admin" in sidebar
3. Configure users and permissions


## LICENSE & USAGE

This software is provided as-is for authorized users.
Unauthorized distribution or modification is prohibited.


=================================================================================
For support or issues, contact your system administrator.
=================================================================================
