# âš¡ Cloud Sync - Quick Reference

**For Users:** Everything you need to know in 60 seconds

---

## What Is This?

A system that keeps everyone's app data **synchronized in real-time** across all connected computers.

When someone makes changes, everyone else's app automatically notifies them and downloads the changes.

---

## For Regular Users

### When You See This Notification

```
ğŸ”” "Au apÄƒrut modificÄƒri Ã®n cloud!"
âš ï¸ AplicaÈ›ia este BLOCATÄ‚.
```

**What to do:**
1. Click **"ğŸ“¥ DESCARCÄ‚ SINCRONIZARE"**
2. Wait for download (usually 5-10 seconds)
3. âœ… Done! App unblocks automatically

---

## For Admins

### Force Everyone to Download Changes

1. Click **â˜ï¸ Sync** button (cloud icon) in toolbar
2. Click **"âš¡ FORÈšEAZÄ‚ SINCRONIZARE CLOUD"**
3. Click **"Yes"** to confirm
4. âœ… All connected users will be notified and blocked
5. Each user clicks download button â†’ Done

---

## When Resetting Scores (ğŸ”´ RESET PUNCTAJ)

**What happens automatically:**
1. Old data saved locally in `arhiva/` folder
2. Same data uploaded to cloud Storage
3. Anyone can view/restore from "ğŸ“‹ Raport SÄƒptÄƒmÃ¢na TrecutÄƒ" button

No extra steps needed - it all happens automatically!

---

## How Often Does It Check?

**Every 1 second** in background.

If admin forces sync or someone resets scores â†’ you'll know **within 1-2 seconds**.

---

## What Gets Synced?

- âœ… Cities & Institutions
- âœ… Employees & Scores
- âœ… All Archives (JSON backups)
- âœ… Activity Logs

---

## Will My Data Be Lost?

**No!** All data is:
- âœ… Saved locally (d:\punctaj\data\)
- âœ… Backed up in archives (d:\punctaj\arhiva\)
- âœ… Copied to cloud (Supabase)
- âœ… Logged for audit trail

---

## Keyboard Shortcuts

| Action | Where |
|--------|-------|
| Open Sync Menu | Click â˜ï¸ button |
| Force Cloud Sync | Sync menu â†’ âš¡ button |
| View Archives | Admin Panel â†’ ğŸ“‹ button |
| Download Changes | Click in notification |

---

## Speed

| Task | Time |
|------|------|
| Detect change | 1-2 seconds |
| Download (small) | 5-10 seconds |
| Download (large) | 30-60 seconds |
| Archive upload | 1-3 seconds |

---

## Troubleshooting

### Notification doesn't appear
â†’ Check internet connection  
â†’ Check if polling thread is active (see test_cloud_sync.py)

### Can't click download button
â†’ Make sure you have Discord auth  
â†’ Try closing and reopening notification

### Archive not in cloud
â†’ It's still saved locally (d:\punctaj\arhiva\)  
â†’ Check Supabase Storage for manual upload

---

## Key Settings

**Default Poll Interval:** 1 second  
**Max Download Time:** 60 seconds  
**Archive Location:** d:\punctaj\arhiva\  
**Cloud Storage:** Supabase Storage (arhiva bucket)

---

## Who Can Do What?

| Action | Who |
|--------|-----|
| Receive notifications | Everyone |
| Download changes | Everyone |
| Force cloud sync | Admin only |
| Reset scores (archive) | Institution owner |
| View archives | Everyone |

---

## One Last Thing

âœ… **Your data is always safe**
- Local copy: d:\punctaj\data\
- Local backup: d:\punctaj\arhiva\
- Cloud copy: Supabase

If something goes wrong, your data is backed up in 3 places!

---

**Questions?** Check `CLOUD_SYNC_README.md` for full documentation.
